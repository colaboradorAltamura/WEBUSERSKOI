// ** Type import
import { VerticalNavItemsType } from 'src/@core/layouts/types';
import { CurrentUserContextType } from 'src/context/CurrentUserContext';
import { AuthValuesType } from 'src/context/types';
import { WorkerStateTypes } from 'src/types/@autogenerated';
import { AppRols } from 'src/types/appRols';
import { UserDefinedRols } from 'src/types/userDefinedRols';

const getPathHomebyRol = (rol: string) => {
  switch (rol) {
    case UserDefinedRols.UDR_STAFF_SEEKER:
      return '/home/seeker';
    case UserDefinedRols.UDR_STAFF_CLINIC:
      return '/home/clinic';
    case UserDefinedRols.UDR_STAFF_RECRUITER:
      return '/home/recruiter';
    case UserDefinedRols.UDR_STAFF_COMMERCIAL:
      return '/home/commercial';
    case UserDefinedRols.UDR_STAFF_ADMISSION:
      return '/home/admission';
    case UserDefinedRols.UDR_STAFF_COORDINATOR:
      return '/home/coordinator';
  }
};

const getTitleHomebyRol = (rol: string) => {
  switch (rol) {
    case UserDefinedRols.UDR_STAFF_SEEKER:
      return 'Home Seeker';
    case UserDefinedRols.UDR_STAFF_CLINIC:
      return 'Home Clinic';
    case UserDefinedRols.UDR_STAFF_RECRUITER:
      return 'Home Recruiter';
    case UserDefinedRols.UDR_STAFF_COMMERCIAL:
      return 'Home Commercial';
    case UserDefinedRols.UDR_STAFF_ADMISSION:
      return 'Home Admission';
    case UserDefinedRols.UDR_STAFF_COORDINATOR:
      return 'Home Coordinator';
  }
};

const navigation = (currentUser: CurrentUserContextType): VerticalNavItemsType => {
  const workerMenu = [];
  const navMenu = [];

  if (currentUser.currentUser && currentUser.currentUser?.rolsData && currentUser.currentUser?.rolsData.worker) {
    if (currentUser.currentUser?.rolsData.worker.workerState === WorkerStateTypes.ACTIVE) {
      workerMenu.push({
        title: 'Home',
        icon: 'tabler:home',
        path: '/',
      });
      workerMenu.push({
        sectionTitle: 'Perfil',
      });
      workerMenu.push({
        title: 'Perfil',
        icon: 'tabler:user',
        path: '/workers/profile',
      });
      workerMenu.push({
        sectionTitle: 'Pacientes',
      });
      workerMenu.push({
        title: 'Mis pacientes',
        icon: 'tabler:users',
        path: '/workers/patients',
      });
      workerMenu.push({
        sectionTitle: 'Clínica',
      });
      workerMenu.push({
        title: 'Supervisión',
        icon: 'tabler:home-check',
        path: '/',
      });
      workerMenu.push({
        title: 'Coordinación',
        icon: 'tabler:clipboard-check',
        path: '/',
      });
      workerMenu.push({
        sectionTitle: 'Vacantes',
      });
      workerMenu.push({
        title: 'Vacantes',
        icon: 'tabler:list-search',
        path: '/workers/openPositions',
      });
    }
  }

  //verifica si tiene mas de dos rols y muestra el punto de menu con cada home correspondiente a cada rol
  if (currentUser.currentUser && currentUser.currentUser?.userDefinedRols.length > 1) {
    navMenu.push({
      sectionTitle: 'Dashboards',
    });
    currentUser.currentUser?.userDefinedRols.map((rol) => {
      navMenu.push({
        title: getTitleHomebyRol(rol),
        icon: 'tabler:home',
        path: getPathHomebyRol(rol),
        udRols: [
          UserDefinedRols.UDR_STAFF_SEEKER,
          UserDefinedRols.UDR_STAFF_ADMISSION,
          UserDefinedRols.UDR_STAFF_RECRUITER,
          UserDefinedRols.UDR_STAFF_CLINIC,
          UserDefinedRols.UDR_STAFF_COMMERCIAL,
          UserDefinedRols.UDR_STAFF_COORDINATOR,
        ],
      });
    });
  } else {
    navMenu.push({
      title: 'Home',
      icon: 'tabler:home',
      path: '/',
      udRols: [
        UserDefinedRols.UDR_STAFF_ADMISSION,
        UserDefinedRols.UDR_STAFF_RECRUITER,
        UserDefinedRols.UDR_STAFF_ADMINISTRATIVE,
        UserDefinedRols.UDR_STAFF_CLINIC,
        UserDefinedRols.UDR_STAFF_COMMERCIAL,
        UserDefinedRols.UDR_STAFF_TRIAGE,
        UserDefinedRols.UDR_STAFF_COORDINATOR,
        UserDefinedRols.UDR_STAFF_SEEKER,
        UserDefinedRols.UDR_STAFF_FINANCIER,
      ],
      appRols: [AppRols.APP_ADMIN],
    });
  }

  return [
    // ** <ADMIN>
    {
      sectionTitle: 'Admin',
      appRols: [AppRols.APP_ADMIN],
    },

    // {
    //   title: 'Management',
    //   icon: 'tabler:code',
    //   path: '/management',
    //   appRols: [AppRols.APP_ADMIN],
    // },

    // {
    //   title: 'Roles',
    //   icon: 'tabler:settings',
    //   path: '/roles',
    //   appRols: [AppRols.APP_ADMIN],
    // },

    // {
    //   title: 'Users',
    //   icon: 'tabler:user',
    //   path: '/users',
    //   appRols: [AppRols.APP_ADMIN],
    // },

    // {
    //   title: 'Companies',
    //   icon: 'tabler:building',
    //   path: '/cms/content/companies',
    //   appRols: [AppRols.APP_ADMIN],
    // },

    {
      title: 'CMS',
      icon: 'tabler:menu',
      path: '/cms',
      appRols: [AppRols.APP_ADMIN],
    },

    // ** </ADMIN>

    {
      sectionTitle: 'Stock',
    },
    {
      title: 'Bonos',
      icon: 'tabler:code',
      path: '/bonos',
    },

    {
      sectionTitle: 'Finanzas',
    },
    {
      title: 'Compras',
      icon: 'tabler:cash',
      path: '/purchases',
    },

    {
      title: 'Actividad',
      icon: 'tabler:history',
      path: '/activity',
    },
  ];
};

export default navigation;
